<script setup lang="ts">
import type { NavigationMenuItem } from '@nuxt/ui'

// Sidebar state
const open = ref(false)

// Navigation links for sidebar
const links: NavigationMenuItem[][] = [[
  {
    label: 'é¦–é ',
    icon: 'i-heroicons-home',
    to: '/',
    onSelect: () => { open.value = false }
  },
  {
    label: 'ðŸ“· è¼¸å…¥è©žèªž',
    icon: 'i-heroicons-camera',
    to: '/input',
    onSelect: () => { open.value = false }
  },
  {
    label: 'ðŸ“š è©žèªžåˆ—è¡¨',
    icon: 'i-heroicons-book-open',
    to: '/words',
    onSelect: () => { open.value = false }
  }
], [
  {
    label: 'éŠæˆ²',
    icon: 'i-heroicons-puzzle-piece',
    type: 'trigger',
    defaultOpen: true,
    children: [
      {
        label: 'ðŸ”¤ è‹±æ–‡ä¸²å­—',
        to: '/spelling',
        onSelect: () => { open.value = false }
      },
      {
        label: 'ðŸ“ å¥å­é‡çµ„',
        to: '/sentence',
        onSelect: () => { open.value = false }
      },
      {
        label: 'âœï¸ ä¸­æ–‡èªå­—',
        to: '/flashcard',
        onSelect: () => { open.value = false }
      },
      {
        label: 'ðŸ”— é…å°éŠæˆ²',
        to: '/matching',
        onSelect: () => { open.value = false }
      },
      {
        label: 'ðŸŽ¯ è½å¯«æ¨¡å¼',
        to: '/dictation',
        onSelect: () => { open.value = false }
      }
    ]
  }
]]
</script>

<template>
  <UDashboardGroup>
    <UDashboardSidebar
      id="default"
      v-model:open="open"
      collapsible
      class="bg-elevated/25"
    >
      <template #header="{ collapsed }">
        <div class="flex items-center gap-2 p-2" :class="{ 'justify-center': collapsed }">
          <span class="text-2xl">ðŸŽ®</span>
          <span v-if="!collapsed" class="font-bold text-lg">SpellQuest</span>
        </div>
      </template>

      <template #default="{ collapsed }">
        <UNavigationMenu
          :collapsed="collapsed"
          :items="links[0]"
          orientation="vertical"
          tooltip
        />

        <UNavigationMenu
          :collapsed="collapsed"
          :items="links[1]"
          orientation="vertical"
          tooltip
          class="mt-4"
        />
      </template>
    </UDashboardSidebar>

    <slot />
  </UDashboardGroup>
</template>
